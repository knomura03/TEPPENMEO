---
# AGENTS.md (TEPPEN MEO)

## 作業ルール（非交渉）
- 返答・ドキュメント・UI文言は日本語。英語混在禁止（技術用語/固有名詞は必要最小限で可）
- すべての変更は **ブランチ作成 → コミット → push → PR作成** までをCodexが実施する
- main への直接pushは禁止（緊急時のみ例外。理由を記録）
- PRは自動マージ禁止（ユーザーがGitHub上でマージする）
- 1フェーズ=1PR（大きい場合は分割）
- PR本文に必ず含める: 変更点要約 / 動作確認手順（クリック順） / 実行コマンド結果（lint/test/typecheck/e2e） / 影響範囲とロールバック観点
- PR作成後、最終報告の先頭にPR URLを必ず記載する
- secrets混入防止: `.env.local` や鍵/トークンは絶対コミット禁止。PR作成前に `git status` と `git diff` を確認し、疑わしければ `git grep -nE \"(SUPABASE|SECRET|TOKEN|KEY=|BEGIN PRIVATE)\" .` を実行
- 変更の粒度は「1フェーズ=1コミット/1PR」。破壊的変更はさらに分割
- 各PRのレビュー手順は `pnpm lint` `pnpm test` `pnpm typecheck` `pnpm e2e` を実行し記録（不可なら理由を明記）
- UI変更があるPRは `pnpm e2e` を必須とし、実行不可なら代替確認手順を明記
- push/PRに失敗した場合の手順（SSH/gh auth）は runbook に記録し、変更があれば更新する
- 外部API実装のPRは `docs/providers` と `docs/spec` の更新が必須（更新なしは禁止）
- 外部に影響する運用機能（ユーザー/権限）のPRは `docs/spec` 更新が必須（更新なしは禁止）
- 秘密情報はコミット禁止。`.env.example` のみ
- モジュール分割・小さな関数・責務分離を徹底
- 迷ったら選択肢とトレードオフを提示し、最小安全案を選ぶ

## プロジェクト目標
- 複数プロバイダ対応のMEO/SNS管理 最小版を構築
- 連携はプロバイダIF + 機能フラグで拡張可能にする
- “超詳細”なプロバイダ手順書を提供する

## 超詳細手順書の品質基準（チェックリスト）
- [ ] 前提（必要アカウント/権限/審査の有無）
- [ ] 画面操作の手順（クリック単位の箇条書き）
- [ ] 設定値（Redirect URI / Scopes / Webhook有無）
- [ ] 必要な環境変数（意味・取得場所・例）
- [ ] 動作確認手順（成功/失敗の見分け方）
- [ ] よくある詰まり（エラー例と対処）
- [ ] 承認待ち時の代替手順（モック/手動運用）

## コマンド
- インストール: `pnpm install`
- 開発: `pnpm dev`
- リント: `pnpm lint`
- テスト: `pnpm test`
- 型チェック: `pnpm typecheck`

## 出力期待
- 変更点・変更ファイル・実行方法・検証方法を必ず含める
- READMEに機能対応表を含める
---
